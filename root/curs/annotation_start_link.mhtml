<%args>
$curs_root_uri
$annotation_type
$gene
</%args>

<%perl>
my $annotation_type_name = $annotation_type->{name};
my $action_path = $curs_root_uri . '/annotation/edit/' .
                  $gene_id . '/' . $annotation_type_name;
my $title = $annotation_type->{help_text} // '';
my $type_display_name = $annotation_type->{display_name};
</%perl>
% if (!$annotation_type->{disabled}) {
  <a title="<% $title %>" href="<% $action_path %>">
% }
    <span class="annotation-type">
<% ucfirst $type_display_name %>
    </span>
% if (!$annotation_type->{disabled}) {
  </a>
% }
% if ($is_admin && !$annotation_type->{needs_allele}) {
%   my $add_url = "$curs_root_uri/annotation/quick_add/" .
%     "$gene_id/$annotation_type_name";

<a href="#" class="curs-quick-add-annotation curs-js-link"
   title="Add a <% $type_display_name %>"
   onclick="javascript:QuickAddDialog.create('Add a <% $type_display_name %>', '<% $annotation_type_name %>', '<% $add_url %>'); return false;">Add ...</a>
% }

<%init>
my $gene_id = $gene->gene_id();
my $is_admin = $c->stash()->{is_admin_user};
</%init>
