<%args>
$annotation_helper
$current_component_display_name
$current_component
$broad_term_suggestions
$annotation_help_text
$gene_display_name
$pub
</%args>

<div id="ferret-suggest" style="display: none">
<form id="ferret-suggest-form" action="" method="post">
  <input type="hidden" id="ferret-suggest-term-id" name="ferret-term-id"/>
  <div>
    Name: <input id="ferret-suggest-name" name="ferret-suggest-name"/>
  </div>
  <div>
    Definition: <textarea name="ferret-suggest-definition" cols="60" rows="10"> </textarea>
  </div>
  <input id="ferret-suggest-submit" name="ferret-submit" type="submit"
         value="Submit suggestion" class="button"/>
</form>
</div>

<div id="ferret">
  <form id="ferret-form" action="" method="post">

  <input type="hidden" id="ferret-term-id" name="ferret-term-id"/>

  <div id="ferret-term-details" style="display: none">
    <div id="ferret-help-step-1" class="inline-help ferret-help-text">
Step 1: Please read the definition of the currently selected term and ensure
it is equivalent to, or broader than, the term you require.
    </div>
    <table>
      <tr>
        <td class="title">ID</td>
        <td class="term-id ferret-term-id-display"></td>
      </tr>
      <tr>
        <td class="title">Term name</td>
        <td id="ferret-term-name" class="term-name"></td>
      </tr>
      <tr>
        <td class="title">Definition</td>
        <td id="ferret-term-definition" class="term-definition"></td>
      </tr>
      <tr id="ferret-term-comment-row">
        <td class="title">Comment</td>
        <td id="ferret-term-comment"></td>
      </tr>
    </table>

  <div id="ferret-accept-term-details" style="display: none">
    <div>
      Annotate with this term
    </div>
    <input id="ferret-accept-term-proceed" name="ferret-submit"
           type="submit" value="Proceed" class="button"/>
  </div>
  </div>

  <div id="ferret-term-entry">
    <div class="inline-help ferret-help-text">
Search for <% $current_component_display_name %>
terms to annotate to <% $gene_display_name %>
from PMID:<% $pub->pubmedid() %>.
    </div>
    <div class="ferret-term-entry-inside">
    <div>
If you do not find the term you are looking for with your initial search,
begin with a broad term (<% $broad_term_suggestions %>).  More specific terms
will be suggested allowing you to refine your search iteratively before making
your final selection.
<a id="ferret-term-entry-extra-help" class="pomcur-toggle-button" href='#'>more ...</a>
    </div>
    <div id="ferret-term-entry-extra-help-target" class="ferret-more-help"
         style="display: none">
      <% $annotation_help_text %>
    </div>
    <input id="ferret-term-input" name="ferret-term-entry"
           type="text" size="50"
           placeholder="start typing and suggestions will be made ..."
           disabled="true"/>
  </div>
  </div>

  <div id="ferret-children-details" style="display: none">
  <div id="ferret-term-children" style="display: none">
    <div id="ferret-help-step-2" class="inline-help ferret-help-text">
Step 2: Select a child of <span class="term-id ferret-term-id-display"></span>
below if it (or one of its possible descendants) describes the experiment you
are curating more precisely.
    </div>
    <div id="ferret-term-children-list">
    </div>
  </div>

  <div id="ferret-leaf" style="display: none">
    <div id="ferret-help-step-2-suggest" class="inline-help ferret-help-text">
Step 2: The term you have currently selected has no more specific children. If
this term is not specific enough to describe the experiment you are
annotating suggest a new child term for 
<span class="term-id ferret-term-id-display"></span>.
    </div>
  <div id="ferret-suggest-link">
    <ul>
      <li>
        <a href="#">Suggest a new child term
        for <span class="ferret-term-id-display"></span> ...
</a>
      </li>
    </ul>
  </div>
  </div>

  <input id="ferret-ignore-children" name="ferret-cancel-children"
         type="submit" value="Ignore suggestions" class="button"/>

  </div>
</form>
</div>
