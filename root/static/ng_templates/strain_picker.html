<div>
  <script type="text/ng-template" id="strainPickerItemTemplate.html">
    <a>
        <span ng-bind-html="match.model.strain_name | uibTypeaheadHighlight:query"></span>
        <div class="curs-strain-synonyms" ng-if="match.model.synonyms.length > 0">
          <span class="curs-strain-synonyms-title">synonyms:</span>
          <span ng-repeat="synonym in match.model.synonyms">
            <span ng-bind-html="synonym | uibTypeaheadHighlight:query"></span><span ng-if="!$last">, </span>
          </span>
        </div>
    </a>
  </script>
  <div ng-if="data.sessionStrains && data.strains">
    <div>
        <span ng-repeat="st in data.sessionStrains track by $index" class="curs-strain-tag btn-primary btn-xs">
            <span style="cursor: pointer;"
            ng-click="remove(st.strain_name)">{{st.strain_name}} <span style="color: red;">x</span></span>
        </span>
    </div>
    <div style="width:280px;">
      <form ng-submit="addStrain()">
        <input ng-model="data.selectedStrain"
               placeholder="Type a strain name"
               uib-typeahead="strain as strain.strain_name for strain in data.strains | filter:strainFilter"
               typeahead-min-length="0"
               typeahead-on-select="changed()"
               typeahead-focus-on-select="false"
               typeahead-editable="true"
               typeahead-template-url="strainPickerItemTemplate.html"
               typeahead-wait-ms="2">
      </form>
    </div>
  </div>
</div>
