# PomCur config file  -*- conf -*-
name: PomCur
long_name: Pombe community curation application

authentication:
  default_realm: 'members'
  realms:
    members:
      credential:
        class: 'Password'
        password_field: 'password'
        password_type: 'clear'
      store:
        class: DBIx::Class
        user_class: TrackModel::Person
class_info:
  cv:
    editable: 1
    display_field: name
    field_info_list:
      - name: name
        editable: 1
      - name: definition
        editable: 1
  cvterm:
    editable: 1
    display_field: name
    field_info_list:
      - name: name
        editable: 1
      - name: definition
        editable: 1
      - name: cv_id
        editable: 1
  organism:
    editable: 1
    display_field: full_name
    order_by:
      - genus
      - species
    field_info_list:
      - name: genus
        editable: 1
      - name: species
        editable: 1
      - name: ecotypes
        editable: 1
  person:
    editable: 1
    display_field: name
    order_by: name
    field_info_list:
      - name: name
        source: longname
        editable: 1
      - name: Email address
        source: networkaddress
        editable: 1
      - name: role
        default_value: "'user'"
        editable: 1
        admin_only: 1
      - name: password
        editable: 1
        admin_only: 1
      - name: lab
        editable: 1
  lab:
    editable: 1
    display_field: name
    order_by: name
    field_info_list:
      - name: name
        editable: 1
      - name: lab_head
        editable: 1
      - name: people
        is_collection: 1
        editable: 1
  pub:
    display_field: title
    editable: 1
    field_info_list:
      - name: Pubmed ID
        source: pubmedid
        editable: 1
      - name: title
        editable: 1
      - name: authors
        editable: 1
  curs:
    display_field: curs_key
    editable: 1
    field_info_list:
      - name: community_curator
        editable: 1
      - name: publication
        editable: 0
        source: pub
      - name: curs_key
        editable: 0
# if the hook dies the creation fails
    pre_create_hook: 'PomCur::Track::create_curs_db_hook'
track_db_template_file: db_templates/track_db_template.sqlite3
curs_db_template_file: db_templates/curs_db_template.sqlite3
external_sources:
  pubmed_query_url: "http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&retmode=xml&id="
implementation_classes:
  gene_store: PomCur::Track::GeneStore
  go_annotation_store: PomCur::Track::GOAnnotationStore
  go_store: PomCur::Track::GOStore
